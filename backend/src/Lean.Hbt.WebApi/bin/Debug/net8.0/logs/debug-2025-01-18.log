2025-01-18 10:10:07.4786|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT 1 FROM `hbt_tenant`     LIMIT 0,1
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 10:10:44.2244|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT 1 FROM `hbt_tenant`     LIMIT 0,1
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 10:13:02.9365|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT 1 FROM `hbt_tenant`     LIMIT 0,1
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 10:16:31.4025|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT 1 FROM `hbt_tenant`     LIMIT 0,1
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 10:18:35.2735|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT  TOP 1 1 FROM [hbt_tenant] 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 10:22:14.6749|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT  TOP 1 1 FROM [hbt_tenant] 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 10:32:29.5844|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT  TOP 1 1 FROM [hbt_tenant] 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 10:34:20.9668|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT  TOP 1 1 FROM [hbt_tenant] 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 10:44:20.9646|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT  TOP 1 1 FROM [hbt_tenant] 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 10:50:35.6185|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT NAME FROM master.dbo.sysdatabases ORDER BY NAME
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:54.4711|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:54.5458|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user](
[Id] bigint NOT NULL  IDENTITY(1,1),
[user_name] nvarchar(50) NOT NULL  ,
[nick_name] nvarchar(50) NULL  ,
[english_name] nvarchar(50) NULL  ,
[user_type] int NOT NULL  ,
[password] nvarchar(100) NOT NULL  ,
[salt] nvarchar(100) NOT NULL  ,
[email] nvarchar(100) NULL  ,
[phone_number] nvarchar(20) NULL  ,
[gender] int NOT NULL  ,
[avatar] nvarchar(200) NULL  ,
[status] int NOT NULL  ,
[last_password_change_time] datetime NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:54.6390|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user] ADD CONSTRAINT PK_hbt_user_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:54.6616|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:54.7438|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:54.7498|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:54.7905|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:54.7943|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:54.8324|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:54.8324|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:54.8735|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:54.8735|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:54.9236|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:54.9236|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:54.9682|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:54.9682|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.0247|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.0277|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.0654|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.0654|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.1080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.1080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.1578|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.1578|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.1987|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.1987|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.6397|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.6397|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.6888|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.6888|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.7297|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.7320|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.7715|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.7715|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.8149|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.8149|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.8575|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.8575|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.8992|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.8992|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.9416|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.9416|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.9919|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:55.9919|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:56.0414|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:56.0443|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:56.0839|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:56.0839|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:56.1226|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:56.1226|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:56.1571|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_user_name ON [hbt_user]([user_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:56.1571|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:56.1718|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_email ON [hbt_user]([email] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:56.1718|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:56.1850|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_phone ON [hbt_user]([phone_number] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:01:56.1850|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.7860|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8012|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user](
[Id] bigint NOT NULL  IDENTITY(1,1),
[user_name] nvarchar(50) NOT NULL  ,
[nick_name] nvarchar(50) NULL  ,
[english_name] nvarchar(50) NULL  ,
[user_type] int NOT NULL  ,
[password] nvarchar(100) NOT NULL  ,
[salt] nvarchar(100) NOT NULL  ,
[email] nvarchar(100) NULL  ,
[phone_number] nvarchar(20) NULL  ,
[gender] int NOT NULL  ,
[avatar] nvarchar(200) NULL  ,
[status] int NOT NULL  ,
[last_password_change_time] datetime NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8114|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user] ADD CONSTRAINT PK_hbt_user_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8114|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8269|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8269|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8269|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8269|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8399|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8399|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8399|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8399|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8399|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8399|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8399|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8564|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8564|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8564|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8564|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8564|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8564|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8564|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8564|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8712|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8712|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8712|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8712|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8712|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.8712|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9048|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9048|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9048|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9048|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9048|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9247|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9247|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9247|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9503|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9503|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9503|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9503|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9503|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9503|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9821|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9821|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_user_name ON [hbt_user]([user_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9962|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:22.9962|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_email ON [hbt_user]([email] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:23.0132|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:23.0132|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_phone ON [hbt_user]([phone_number] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:23.0285|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:48.8725|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:48.8881|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user](
[Id] bigint NOT NULL  IDENTITY(1,1),
[user_name] nvarchar(50) NOT NULL  ,
[nick_name] nvarchar(50) NULL  ,
[english_name] nvarchar(50) NULL  ,
[user_type] int NOT NULL  ,
[password] nvarchar(100) NOT NULL  ,
[salt] nvarchar(100) NOT NULL  ,
[email] nvarchar(100) NULL  ,
[phone_number] nvarchar(20) NULL  ,
[gender] int NOT NULL  ,
[avatar] nvarchar(200) NULL  ,
[status] int NOT NULL  ,
[last_password_change_time] datetime NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:48.8881|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user] ADD CONSTRAINT PK_hbt_user_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:48.9108|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:48.9108|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:48.9201|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:48.9818|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:48.9818|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.0230|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.0230|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.0625|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.0625|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.1033|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.1060|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.1434|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.1434|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.1845|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.1845|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.2254|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.2254|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.2664|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.2664|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.3140|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.3140|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.3640|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.3640|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.4076|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.4076|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.4506|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.4506|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.4909|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.4909|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.5337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.5337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.5763|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.5763|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.6185|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.6219|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.6611|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.6611|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.7038|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.7038|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.7479|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.7479|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.7955|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.7955|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.8508|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.8508|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.8870|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.8870|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.8870|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_user_name ON [hbt_user]([user_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.8870|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.8870|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_email ON [hbt_user]([email] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.9040|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.9040|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_phone ON [hbt_user]([phone_number] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:02:49.9040|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.5482|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.5799|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user](
[Id] bigint NOT NULL  IDENTITY(1,1),
[user_name] nvarchar(50) NOT NULL  ,
[nick_name] nvarchar(50) NULL  ,
[english_name] nvarchar(50) NULL  ,
[user_type] int NOT NULL  ,
[password] nvarchar(100) NOT NULL  ,
[salt] nvarchar(100) NOT NULL  ,
[email] nvarchar(100) NULL  ,
[phone_number] nvarchar(20) NULL  ,
[gender] int NOT NULL  ,
[avatar] nvarchar(200) NULL  ,
[status] int NOT NULL  ,
[last_password_change_time] datetime NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.5799|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user] ADD CONSTRAINT PK_hbt_user_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.5997|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.6649|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.6694|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.7345|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.7345|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.7803|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.7803|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.8193|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.8193|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.8593|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.8593|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.8976|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.8976|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.9340|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.9340|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.9727|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:39.9727|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.0098|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.0126|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.0481|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.0481|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.0871|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.0871|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.1241|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.1241|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.1619|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.1619|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.2034|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.2034|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.2414|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.2414|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.2796|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.2796|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.3255|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.3255|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.3646|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.3646|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.4036|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.4036|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.4431|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.4431|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.4803|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.4803|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.5210|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.5210|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.5678|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.5678|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.5867|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_user_name ON [hbt_user]([user_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.5899|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.5899|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_email ON [hbt_user]([email] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.5899|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.6111|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_phone ON [hbt_user]([phone_number] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:04:40.6111|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7454|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7603|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user](
[Id] bigint NOT NULL  IDENTITY(1,1),
[user_name] nvarchar(50) NOT NULL  ,
[nick_name] nvarchar(50) NULL  ,
[english_name] nvarchar(50) NULL  ,
[user_type] int NOT NULL  ,
[password] nvarchar(100) NOT NULL  ,
[salt] nvarchar(100) NOT NULL  ,
[email] nvarchar(100) NULL  ,
[phone_number] nvarchar(20) NULL  ,
[gender] int NOT NULL  ,
[avatar] nvarchar(200) NULL  ,
[status] int NOT NULL  ,
[last_password_change_time] datetime NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7700|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user] ADD CONSTRAINT PK_hbt_user_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7947|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7947|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7947|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7947|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7947|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7947|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7947|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.7947|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8091|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8091|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8091|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8091|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8091|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8091|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8091|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8091|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8091|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8091|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8091|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8250|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8250|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8250|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8250|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8250|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8250|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8250|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8250|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8250|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8395|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8395|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8395|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8395|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8395|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8395|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8395|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8395|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8395|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8395|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8588|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8588|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8588|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_user_name ON [hbt_user]([user_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8703|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8703|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_email ON [hbt_user]([email] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8703|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8703|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_phone ON [hbt_user]([phone_number] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:08:41.8703|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6139|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6316|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user](
[Id] bigint NOT NULL  IDENTITY(1,1),
[user_name] nvarchar(50) NOT NULL  ,
[nick_name] nvarchar(50) NULL  ,
[english_name] nvarchar(50) NULL  ,
[user_type] int NOT NULL  ,
[password] nvarchar(100) NOT NULL  ,
[salt] nvarchar(100) NOT NULL  ,
[email] nvarchar(100) NULL  ,
[phone_number] nvarchar(20) NULL  ,
[gender] int NOT NULL  ,
[avatar] nvarchar(200) NULL  ,
[status] int NOT NULL  ,
[last_password_change_time] datetime NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6408|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user] ADD CONSTRAINT PK_hbt_user_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6408|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6553|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6553|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6553|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6553|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6553|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6553|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6683|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6683|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6683|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6683|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6683|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6683|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6683|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6683|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6683|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6683|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6832|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6832|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6832|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6832|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6832|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6832|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6832|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6832|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6832|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6832|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6832|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6991|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6991|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6991|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6991|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6991|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6991|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6991|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6991|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6991|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6991|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.6991|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.7153|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.7153|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.7153|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.7153|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.7153|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.7153|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.7153|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.7153|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.7339|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_user_name ON [hbt_user]([user_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.7339|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.7339|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_email ON [hbt_user]([email] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.7339|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.7339|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_phone ON [hbt_user]([phone_number] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:27.7339|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3340|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3484|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user](
[Id] bigint NOT NULL  IDENTITY(1,1),
[user_name] nvarchar(50) NOT NULL  ,
[nick_name] nvarchar(50) NULL  ,
[english_name] nvarchar(50) NULL  ,
[user_type] int NOT NULL  ,
[password] nvarchar(100) NOT NULL  ,
[salt] nvarchar(100) NOT NULL  ,
[email] nvarchar(100) NULL  ,
[phone_number] nvarchar(20) NULL  ,
[gender] int NOT NULL  ,
[avatar] nvarchar(200) NULL  ,
[status] int NOT NULL  ,
[last_password_change_time] datetime NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3621|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user] ADD CONSTRAINT PK_hbt_user_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3733|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3733|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3733|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3860|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3860|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3860|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3860|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3860|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3860|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3860|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3860|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3860|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3860|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.3860|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4193|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4193|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4193|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4193|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4193|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4193|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4193|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4193|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4193|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4193|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4193|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_user_name ON [hbt_user]([user_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_email ON [hbt_user]([email] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_phone ON [hbt_user]([phone_number] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:11:44.4659|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.2785|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.2962|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user](
[Id] bigint NOT NULL  IDENTITY(1,1),
[user_name] nvarchar(50) NOT NULL  ,
[nick_name] nvarchar(50) NULL  ,
[english_name] nvarchar(50) NULL  ,
[user_type] int NOT NULL  ,
[password] nvarchar(100) NOT NULL  ,
[salt] nvarchar(100) NOT NULL  ,
[email] nvarchar(100) NULL  ,
[phone_number] nvarchar(20) NULL  ,
[gender] int NOT NULL  ,
[avatar] nvarchar(200) NULL  ,
[status] int NOT NULL  ,
[last_password_change_time] datetime NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3126|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user] ADD CONSTRAINT PK_hbt_user_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3262|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3262|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3262|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3393|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3393|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3393|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3393|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3393|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3393|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3554|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3554|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3554|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3554|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3554|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3554|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3554|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3726|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3726|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3726|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3726|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3726|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3726|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3726|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3726|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3880|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3880|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3880|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3880|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.3880|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4032|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4032|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4032|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4032|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4032|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4032|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4032|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4186|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4186|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4186|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4186|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4186|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4186|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4340|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4340|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4340|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4340|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4340|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4516|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_user_name ON [hbt_user]([user_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4516|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4516|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_email ON [hbt_user]([email] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4516|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4652|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_phone ON [hbt_user]([phone_number] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:18:09.4652|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.1546|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.1922|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user](
[Id] bigint NOT NULL  IDENTITY(1,1),
[tenant_id] bigint NOT NULL  ,
[user_name] nvarchar(50) NOT NULL  ,
[nick_name] nvarchar(50) NULL  ,
[english_name] nvarchar(50) NULL  ,
[user_type] int NOT NULL  ,
[password] nvarchar(100) NOT NULL  ,
[salt] nvarchar(100) NOT NULL  ,
[email] nvarchar(100) NULL  ,
[phone_number] nvarchar(20) NULL  ,
[gender] int NOT NULL  ,
[avatar] nvarchar(200) NULL  ,
[status] int NOT NULL  ,
[last_password_change_time] datetime NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.2005|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user] ADD CONSTRAINT PK_hbt_user_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.2005|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.3391|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.3433|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.3884|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.3884|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.3884|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.3884|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.3884|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.3884|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4177|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4177|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4177|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4177|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4177|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4177|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4177|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4177|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4500|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4500|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4500|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4500|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4500|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4500|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4671|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4671|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4896|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_user_name ON [hbt_user]([user_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4896|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4973|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_email ON [hbt_user]([email] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4973|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4973|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_phone ON [hbt_user]([phone_number] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:38:30.4973|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7540|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user](
[Id] bigint NOT NULL  IDENTITY(1,1),
[tenant_id] bigint NOT NULL  ,
[user_name] nvarchar(50) NOT NULL  ,
[nick_name] nvarchar(50) NULL  ,
[english_name] nvarchar(50) NULL  ,
[user_type] int NOT NULL  ,
[password] nvarchar(100) NOT NULL  ,
[salt] nvarchar(100) NOT NULL  ,
[email] nvarchar(100) NULL  ,
[phone_number] nvarchar(20) NULL  ,
[gender] int NOT NULL  ,
[avatar] nvarchar(200) NULL  ,
[status] int NOT NULL  ,
[last_password_change_time] datetime NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7629|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user] ADD CONSTRAINT PK_hbt_user_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7629|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7787|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7787|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7787|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7787|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7787|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7787|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7787|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7936|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7936|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7936|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7936|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7936|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7936|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7936|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7936|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7936|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7936|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.7936|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8248|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8248|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8248|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8248|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8248|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8248|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8248|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8248|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8248|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8398|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8398|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8398|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8398|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8398|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8398|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8398|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8398|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8595|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_user_name ON [hbt_user]([user_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8595|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8595|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_email ON [hbt_user]([email] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8595|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8595|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_phone ON [hbt_user]([phone_number] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:54:41.8721|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6266|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6527|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user](
[Id] bigint NOT NULL  IDENTITY(1,1),
[tenant_id] bigint NOT NULL  ,
[user_name] nvarchar(50) NOT NULL  ,
[nick_name] nvarchar(50) NULL  ,
[english_name] nvarchar(50) NULL  ,
[user_type] int NOT NULL  ,
[password] nvarchar(100) NOT NULL  ,
[salt] nvarchar(100) NOT NULL  ,
[email] nvarchar(100) NULL  ,
[phone_number] nvarchar(20) NULL  ,
[gender] int NOT NULL  ,
[avatar] nvarchar(200) NULL  ,
[status] int NOT NULL  ,
[last_password_change_time] datetime NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6527|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user] ADD CONSTRAINT PK_hbt_user_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6705|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6926|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6926|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6926|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6926|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6996|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6996|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6996|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6996|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6996|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6996|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6996|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6996|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6996|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.6996|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7152|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7152|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7152|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7152|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7152|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7152|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7152|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7152|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7152|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7152|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7316|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7316|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7316|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7316|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7316|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7316|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7316|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7470|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7470|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7470|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7470|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7470|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7626|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7626|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7626|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7626|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7626|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7626|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7626|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7795|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7795|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7795|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7963|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_user_name ON [hbt_user]([user_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7963|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7963|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_email ON [hbt_user]([email] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7963|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7963|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_phone ON [hbt_user]([phone_number] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 11:59:54.7963|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.7356|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.7544|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user](
[Id] bigint NOT NULL  IDENTITY(1,1),
[tenant_id] bigint NOT NULL  ,
[user_name] nvarchar(50) NOT NULL  ,
[nick_name] nvarchar(50) NULL  ,
[english_name] nvarchar(50) NULL  ,
[user_type] int NOT NULL  ,
[password] nvarchar(100) NOT NULL  ,
[salt] nvarchar(100) NOT NULL  ,
[email] nvarchar(100) NULL  ,
[phone_number] nvarchar(20) NULL  ,
[gender] int NOT NULL  ,
[avatar] nvarchar(200) NULL  ,
[status] int NOT NULL  ,
[last_password_change_time] datetime NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.7630|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user] ADD CONSTRAINT PK_hbt_user_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.7630|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.7829|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.7829|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.7829|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.7829|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.7945|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.7945|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.7945|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.7945|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.7945|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.7945|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.7945|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.7945|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8096|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8096|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8096|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8096|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8096|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8096|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8096|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8237|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8237|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8237|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8237|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8237|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8237|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8237|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8401|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8401|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8401|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8401|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8401|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8401|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8401|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8401|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8401|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8401|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8552|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8552|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8552|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8552|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8552|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8552|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8552|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8552|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8552|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8721|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8721|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_user_name ON [hbt_user]([user_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8721|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8721|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_email ON [hbt_user]([email] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8865|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8865|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_phone ON [hbt_user]([phone_number] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:05:35.8865|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.3762|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4017|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user](
[Id] bigint NOT NULL  IDENTITY(1,1),
[tenant_id] bigint NOT NULL  ,
[user_name] nvarchar(50) NOT NULL  ,
[nick_name] nvarchar(50) NULL  ,
[english_name] nvarchar(50) NULL  ,
[user_type] int NOT NULL  ,
[password] nvarchar(100) NOT NULL  ,
[salt] nvarchar(100) NOT NULL  ,
[email] nvarchar(100) NULL  ,
[phone_number] nvarchar(20) NULL  ,
[gender] int NOT NULL  ,
[avatar] nvarchar(200) NULL  ,
[status] int NOT NULL  ,
[last_password_change_time] datetime NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4017|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user] ADD CONSTRAINT PK_hbt_user_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4241|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4369|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4369|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4369|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4369|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4689|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4689|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4689|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4689|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4689|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4689|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4689|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4689|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4689|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4813|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4813|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4813|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4813|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4813|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4813|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4813|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4813|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4813|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4960|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4960|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4960|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4960|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4960|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4960|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4960|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4960|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.4960|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.5122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.5122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.5122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.5122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.5122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.5122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_user_name ON [hbt_user]([user_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.5291|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.5291|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_email ON [hbt_user]([email] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.5291|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.5291|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_phone ON [hbt_user]([phone_number] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.5291|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.5291|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_tenant_user ON [hbt_user]([tenant_id] Asc,[user_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.5438|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.9765|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_user] ADD DEFAULT '1' FOR [user_type]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.9815|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_user] ADD DEFAULT '0' FOR [gender]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.9815|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_user] ADD DEFAULT '0' FOR [status]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:42.9815|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_user] ADD DEFAULT '0' FOR [is_deleted]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.0046|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_role')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.0240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_role](
[Id] bigint NOT NULL  IDENTITY(1,1),
[role_name] nvarchar(50) NOT NULL  ,
[role_key] nvarchar(100) NOT NULL  ,
[role_sort] int NOT NULL  ,
[data_scope] int NOT NULL  ,
[status] int NOT NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.0287|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_role] ADD CONSTRAINT PK_hbt_role_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.0287|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'role_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.0709|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色名称', N'user', N'dbo', N'table', N'hbt_role', N'column', N'role_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.0740|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.1121|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色标识', N'user', N'dbo', N'table', N'hbt_role', N'column', N'role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.1121|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'role_sort'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.1542|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色排序', N'user', N'dbo', N'table', N'hbt_role', N'column', N'role_sort'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.1542|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'data_scope'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.1966|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'数据范围', N'user', N'dbo', N'table', N'hbt_role', N'column', N'data_scope'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.1995|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.2409|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_role', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.2409|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.2814|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_role', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.2814|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.3250|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_role', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.3250|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.3674|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_role', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.3674|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.4090|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_role', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.4090|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.4502|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_role', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.4502|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.4906|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_role', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.4906|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.5314|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_role', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.5314|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.5729|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_role', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.5761|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.6214|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_role', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.6214|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.6625|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_role', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.6625|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_role'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.6980|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色表', N'user', N'dbo', N'table', N'hbt_role', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.7009|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.7009|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_role_key ON [hbt_role]([role_key] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:07:43.7009|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_role'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:46.8821|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:46.8955|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0126|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0522|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0522|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0602|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0602|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0602|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0602|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0602|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0602|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0602|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0602|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0602|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0749|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0749|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0749|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0749|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0749|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0749|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0749|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0749|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0749|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0749|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0749|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0906|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0906|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0906|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0906|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0906|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0906|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0906|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0906|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0906|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.0906|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.1062|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.1062|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.1062|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.1062|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.1062|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.1062|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.1062|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.1062|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.1062|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.1062|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.1216|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.1216|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.1216|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.1216|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.1216|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.1216|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.2381|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.2381|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.2381|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.2798|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.2798|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.2798|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.3191|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.3191|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.3238|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.3603|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.3603|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.3603|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.3988|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.3988|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.4036|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.4421|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.4421|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.4421|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.4929|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.4929|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.5007|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.5007|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.5007|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.5007|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.5007|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.7353|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_role')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.7353|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_role](
[Id] bigint NOT NULL  IDENTITY(1,1),
[role_name] nvarchar(50) NOT NULL  ,
[role_key] nvarchar(100) NOT NULL  ,
[role_sort] int NOT NULL  ,
[data_scope] int NOT NULL  ,
[status] int NOT NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.7555|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_role] ADD CONSTRAINT PK_hbt_role_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.7644|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'role_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.8038|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色名称', N'user', N'dbo', N'table', N'hbt_role', N'column', N'role_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.8038|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.8424|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色标识', N'user', N'dbo', N'table', N'hbt_role', N'column', N'role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.8424|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'role_sort'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.8832|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色排序', N'user', N'dbo', N'table', N'hbt_role', N'column', N'role_sort'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.8863|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'data_scope'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.9242|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'数据范围', N'user', N'dbo', N'table', N'hbt_role', N'column', N'data_scope'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.9242|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.9636|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_role', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:47.9661|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.0040|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_role', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.0040|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.0443|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_role', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.0443|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.0852|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_role', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.0852|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.1269|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_role', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.1269|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.1669|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_role', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.1698|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.2074|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_role', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.2074|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.2472|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_role', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.2472|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.2876|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_role', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.2876|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.3285|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_role', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.3285|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.3692|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_role', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.3718|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_role'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.4031|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色表', N'user', N'dbo', N'table', N'hbt_role', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.4031|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.4031|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_role_key ON [hbt_role]([role_key] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.4031|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_role'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.4177|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_tenant_role ON [hbt_role]([tenant_id] Asc,[role_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.4177|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.6175|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_role] ADD DEFAULT '1' FOR [data_scope]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.6204|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_role] ADD DEFAULT '0' FOR [status]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.6204|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_role] ADD DEFAULT '0' FOR [is_deleted]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.6711|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_menu')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.6904|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_menu](
[Id] bigint NOT NULL  IDENTITY(1,1),
[menu_name] nvarchar(50) NOT NULL  ,
[trans_key] nvarchar(100) NULL  ,
[parent_id] bigint NULL  ,
[order_num] int NOT NULL  ,
[path] nvarchar(200) NULL  ,
[component] nvarchar(255) NULL  ,
[is_frame] int NOT NULL  ,
[menu_type] int NOT NULL  ,
[visible] int NOT NULL  ,
[status] int NOT NULL  ,
[perms] nvarchar(100) NULL  ,
[icon] nvarchar(100) NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.6904|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_menu] ADD CONSTRAINT PK_hbt_menu_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.7020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'menu_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.7392|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单名称', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'menu_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.7392|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'trans_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.7799|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'翻译Key', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'trans_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.7799|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.8186|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'父菜单ID', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.8186|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.8579|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'显示顺序', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.8579|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'path'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.8970|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'路由地址', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'path'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.8970|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'component'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.9375|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'组件路径', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'component'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.9375|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'is_frame'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.9776|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否为外链（0否 1是）', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'is_frame'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:48.9811|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'menu_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.0197|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单类型（0目录 1菜单 2按钮）', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'menu_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.0197|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'visible'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.0666|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'显示状态（0显示 1隐藏）', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'visible'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.0666|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.1114|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.1114|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'perms'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.1505|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'权限标识', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'perms'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.1535|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'icon'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.1917|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单图标', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'icon'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.1917|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.2313|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.2313|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.2743|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.2769|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.3214|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.3233|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.3606|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.3606|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.3996|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.3996|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.4384|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.4384|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.4784|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.4802|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.5173|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.5173|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.5568|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.5598|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.5978|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.5978|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_menu'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.6330|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单表', N'user', N'dbo', N'table', N'hbt_menu', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.6362|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_menu'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.8385|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_menu] ADD DEFAULT '0' FOR [is_frame]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.8429|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_menu] ADD DEFAULT '0' FOR [visible]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.8429|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_menu] ADD DEFAULT '0' FOR [status]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.8429|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_menu] ADD DEFAULT '0' FOR [is_deleted]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.8936|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_dept')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.9108|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_dept](
[Id] bigint NOT NULL  IDENTITY(1,1),
[dept_name] nvarchar(50) NOT NULL  ,
[parent_id] bigint NULL  ,
[order_num] int NOT NULL  ,
[leader] nvarchar(50) NULL  ,
[phone] nvarchar(20) NULL  ,
[email] nvarchar(100) NULL  ,
[status] int NOT NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.9108|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_dept] ADD CONSTRAINT PK_hbt_dept_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.9197|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'dept_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.9568|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'部门名称', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'dept_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.9568|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.9964|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'父部门ID', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:49.9964|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.0358|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'显示顺序', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.0358|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'leader'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.0756|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'负责人', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'leader'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.0756|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.1170|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'联系电话', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.1170|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.1564|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.1564|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.1979|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.2014|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.2394|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.2394|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.2801|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.2801|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.3222|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.3244|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.3616|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.3616|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.4009|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.4039|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.4406|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.4406|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.4798|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.4819|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.5184|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.5184|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.5586|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.5586|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.5971|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.5971|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_dept'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.6286|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'部门表', N'user', N'dbo', N'table', N'hbt_dept', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.6286|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_dept_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.6391|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_dept_name ON [hbt_dept]([dept_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.6391|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_dept'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.6391|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_tenant_dept ON [hbt_dept]([tenant_id] Asc,[dept_name] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.6528|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.8576|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_dept] ADD DEFAULT '0' FOR [status]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.8576|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_dept] ADD DEFAULT '0' FOR [is_deleted]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.9044|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_post')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.9044|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_post](
[Id] bigint NOT NULL  IDENTITY(1,1),
[post_code] nvarchar(50) NOT NULL  ,
[post_name] nvarchar(50) NOT NULL  ,
[order_num] int NOT NULL  ,
[status] int NOT NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.9206|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_post] ADD CONSTRAINT PK_hbt_post_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.9206|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'post_code'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.9682|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'岗位编码', N'user', N'dbo', N'table', N'hbt_post', N'column', N'post_code'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:50.9682|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'post_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.0084|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'岗位名称', N'user', N'dbo', N'table', N'hbt_post', N'column', N'post_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.0084|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.0476|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'显示顺序', N'user', N'dbo', N'table', N'hbt_post', N'column', N'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.0476|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.0888|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_post', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.0923|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.1316|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_post', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.1316|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.1817|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_post', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.1859|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.2318|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_post', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.2318|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.2780|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_post', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.2780|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.3189|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_post', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.3189|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.3596|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_post', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.3596|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.4019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_post', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.4019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.4455|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_post', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.4491|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.4920|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_post', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.4920|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.5308|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_post', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.5308|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_post'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.5638|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'岗位表', N'user', N'dbo', N'table', N'hbt_post', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.5638|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_post_code'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.5744|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_post_code ON [hbt_post]([post_code] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.5744|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_post'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.5744|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_tenant_post ON [hbt_post]([tenant_id] Asc,[post_code] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.5894|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_post'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.7851|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_post] ADD DEFAULT '0' FOR [status]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.7851|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_post] ADD DEFAULT '0' FOR [is_deleted]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.8122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user_role')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.8282|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user_role](
[Id] bigint NOT NULL  IDENTITY(1,1),
[user_id] bigint NOT NULL  ,
[role_id] bigint NOT NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.8282|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user_role] ADD CONSTRAINT PK_hbt_user_role_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.8282|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.8730|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.8730|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.9127|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色ID', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.9127|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.9520|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.9520|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.9922|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:51.9922|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.0314|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.0314|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.0733|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.0763|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.1140|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.1140|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.1574|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.1574|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.2006|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.2006|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.2413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.2413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.2826|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.2826|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.3222|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.3250|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user_role'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.3585|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户角色关联表', N'user', N'dbo', N'table', N'hbt_user_role', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:40:52.3585|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_role'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:17.6905|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:17.7009|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:17.7741|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:17.8247|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:17.8247|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:17.8247|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:17.8729|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:17.8729|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:17.8729|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:17.9175|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:17.9207|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:17.9207|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:17.9630|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:17.9656|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:17.9656|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.0070|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.0070|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.0120|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.0507|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.0507|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.0507|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.0930|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.0930|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.0930|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.1360|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.1360|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.1360|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.1797|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.1797|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.1858|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.2256|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.2256|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.2305|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.2691|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.2691|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.2691|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.3132|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.3132|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.3132|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.3573|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.3573|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.3573|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4037|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4037|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4037|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4459|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4459|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4504|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4878|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4878|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4878|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4878|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4961|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4961|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4961|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4961|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4961|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4961|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4961|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4961|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4961|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.4961|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.5112|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.5112|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.5112|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.5112|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.5112|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.5112|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.5112|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.5112|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.5286|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.5286|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.5286|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.5286|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.5286|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.5286|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6052|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_role')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6052|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6369|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'role_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6369|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','role_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6369|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色名称', N'user', N'dbo', N'table', N'hbt_role', N'column', N'role_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6369|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6369|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6369|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色标识', N'user', N'dbo', N'table', N'hbt_role', N'column', N'role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6369|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'role_sort'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6369|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','role_sort'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6524|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色排序', N'user', N'dbo', N'table', N'hbt_role', N'column', N'role_sort'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6524|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'data_scope'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6524|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','data_scope'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6524|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'数据范围', N'user', N'dbo', N'table', N'hbt_role', N'column', N'data_scope'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6524|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6524|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6524|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_role', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6524|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6524|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6524|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_role', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6679|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6679|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6679|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_role', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6679|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6679|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6679|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_role', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6679|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6679|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6679|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_role', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6679|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_role', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_role', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_role', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_role', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.6837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7003|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7003|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_role', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7003|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7003|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7003|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_role', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7003|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_role'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7003|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7003|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色表', N'user', N'dbo', N'table', N'hbt_role', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7003|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7148|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_role'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7148|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7341|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_menu')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7341|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_menu'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7617|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'menu_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7617|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','menu_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7617|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单名称', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'menu_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7617|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'trans_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7617|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','trans_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7617|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'翻译Key', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'trans_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7617|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7617|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7617|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'父菜单ID', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7767|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7767|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7767|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'显示顺序', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7767|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'path'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7767|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','path'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7767|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'路由地址', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'path'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7767|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'component'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7767|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','component'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7767|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'组件路径', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'component'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7933|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'is_frame'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7933|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','is_frame'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7933|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否为外链（0否 1是）', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'is_frame'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7933|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'menu_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7933|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','menu_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7933|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单类型（0目录 1菜单 2按钮）', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'menu_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7933|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'visible'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7933|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','visible'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.7933|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'显示状态（0显示 1隐藏）', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'visible'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8099|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8099|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8099|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8099|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'perms'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8099|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','perms'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8099|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'权限标识', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'perms'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8235|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'icon'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8235|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','icon'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8235|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单图标', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'icon'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8235|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8235|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8235|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8235|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8235|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8235|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8558|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8558|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8558|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8558|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8558|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8558|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8558|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8558|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8558|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8716|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8716|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8716|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8716|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8716|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8716|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8716|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8716|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_menu'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8716|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8873|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单表', N'user', N'dbo', N'table', N'hbt_menu', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.8873|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_menu'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9348|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_dept')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9348|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9667|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'dept_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9667|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','dept_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9667|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'部门名称', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'dept_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9667|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9667|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9667|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'父部门ID', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9667|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9667|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9805|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'显示顺序', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9805|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'leader'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9805|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','leader'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9805|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'负责人', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'leader'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9805|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9805|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9805|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'联系电话', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9805|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9805|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9966|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9966|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9966|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9966|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9966|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9966|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9966|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9966|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9966|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9966|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9966|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:18.9966|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0278|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0278|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0278|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0278|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0278|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0278|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0278|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0278|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0278|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0278|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0438|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0438|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0438|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_dept'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0438|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0438|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'部门表', N'user', N'dbo', N'table', N'hbt_dept', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0438|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_dept_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0438|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_dept'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.0607|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1118|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_post')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1315|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_post'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1471|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'post_code'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1471|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','post_code'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1471|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'岗位编码', N'user', N'dbo', N'table', N'hbt_post', N'column', N'post_code'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1471|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'post_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1527|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','post_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1527|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'岗位名称', N'user', N'dbo', N'table', N'hbt_post', N'column', N'post_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1527|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1527|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1527|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'显示顺序', N'user', N'dbo', N'table', N'hbt_post', N'column', N'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1527|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1527|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1527|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_post', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1527|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1527|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1673|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_post', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1673|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1673|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1673|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_post', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1673|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1673|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1673|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_post', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1673|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1673|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1673|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_post', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1673|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1836|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1836|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_post', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1836|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1836|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1836|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_post', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1836|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1836|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1836|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_post', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1836|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1997|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1997|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_post', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1997|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1997|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1997|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_post', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1997|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1997|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1997|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_post', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.1997|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_post'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2154|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2154|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'岗位表', N'user', N'dbo', N'table', N'hbt_post', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2154|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_post_code'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2154|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_post'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2154|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_post'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2468|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user_role')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2468|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user_role](
[Id] bigint NOT NULL  IDENTITY(1,1),
[user_id] bigint NOT NULL  ,
[role_id] bigint NOT NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2628|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user_role] ADD CONSTRAINT PK_hbt_user_role_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2628|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2628|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2628|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2628|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色ID', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2778|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2928|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2928|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2928|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2928|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2928|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2928|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2928|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2928|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2928|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user_role'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.2928|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户角色关联表', N'user', N'dbo', N'table', N'hbt_user_role', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.3092|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_role'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.3092|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_user_role ON [hbt_user_role]([user_id] Asc,[role_id] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.3092|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user_role'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.5231|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_user_role] ADD DEFAULT '0' FOR [is_deleted]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.5613|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user_dept')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.5743|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user_dept](
[Id] bigint NOT NULL  IDENTITY(1,1),
[user_id] bigint NOT NULL  ,
[dept_id] bigint NOT NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.5743|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user_dept] ADD CONSTRAINT PK_hbt_user_dept_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.5743|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.6235|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.6235|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'dept_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.6639|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'部门ID', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'dept_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.6639|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.7038|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.7038|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.7428|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.7428|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.7835|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.7835|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.8239|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.8239|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.8655|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.8655|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.9143|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.9143|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.9571|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.9571|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.9991|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:19.9991|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.0397|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.0429|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.0815|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.0815|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user_dept'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.1175|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户部门关联表', N'user', N'dbo', N'table', N'hbt_user_dept', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.1175|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_dept'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.1281|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_user_dept ON [hbt_user_dept]([user_id] Asc,[dept_id] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.1281|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.3235|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_user_dept] ADD DEFAULT '0' FOR [is_deleted]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.3627|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user_post')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.3818|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_user_post](
[Id] bigint NOT NULL  IDENTITY(1,1),
[user_id] bigint NOT NULL  ,
[post_id] bigint NOT NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.3880|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_user_post] ADD CONSTRAINT PK_hbt_user_post_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.3880|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.4314|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.4340|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'post_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.4726|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'岗位ID', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'post_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.4726|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.5192|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.5192|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.5627|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.5627|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.6028|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.6060|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.6435|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.6435|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.6841|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.6841|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.7243|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.7243|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.7638|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.7638|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.8049|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.8049|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.8443|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.8443|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.8844|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.8878|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user_post'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.9312|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户岗位关联表', N'user', N'dbo', N'table', N'hbt_user_post', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.9344|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_post'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.9344|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_user_post ON [hbt_user_post]([user_id] Asc,[post_id] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:20.9560|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user_post'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.1587|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_user_post] ADD DEFAULT '0' FOR [is_deleted]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.1851|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_role_menu')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.1994|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_role_menu](
[Id] bigint NOT NULL  IDENTITY(1,1),
[role_id] bigint NOT NULL  ,
[menu_id] bigint NOT NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.1994|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_role_menu] ADD CONSTRAINT PK_hbt_role_menu_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.1994|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.2473|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色ID', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.2473|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'menu_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.2878|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单ID', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'menu_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.2878|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.3296|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.3296|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.3709|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.3709|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.4118|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.4118|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.4528|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.4528|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.4948|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.4975|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.5367|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.5367|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.5780|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.5780|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.6189|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.6189|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.6587|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.6587|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.6996|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.6996|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_role_menu'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.7348|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色菜单关联表', N'user', N'dbo', N'table', N'hbt_role_menu', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.7348|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_role_menu'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.7472|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_role_menu ON [hbt_role_menu]([role_id] Asc,[menu_id] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.7472|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role_menu'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.9451|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_role_menu] ADD DEFAULT '0' FOR [is_deleted]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.9690|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_role_dept')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.9848|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_role_dept](
[Id] bigint NOT NULL  IDENTITY(1,1),
[role_id] bigint NOT NULL  ,
[dept_id] bigint NOT NULL  ,
[tenant_id] bigint NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.9848|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_role_dept] ADD CONSTRAINT PK_hbt_role_dept_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:21.9988|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.0425|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色ID', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.0425|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'dept_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.0820|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'部门ID', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'dept_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.0820|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.1227|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.1227|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.1714|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.1714|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.2130|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.2165|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.3199|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.3199|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.3675|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.3675|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.4073|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.4073|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.4476|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.4493|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.4864|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.4864|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.5259|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.5279|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.5656|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.5656|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_role_dept'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.5990|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色部门关联表', N'user', N'dbo', N'table', N'hbt_role_dept', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.5990|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_role_dept'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.6103|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE UNIQUE INDEX ix_role_dept ON [hbt_role_dept]([role_id] Asc,[dept_id] Asc)
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.6103|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.8064|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_role_dept] ADD DEFAULT '0' FOR [is_deleted]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.8421|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_tenant')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.8618|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_tenant](
[Id] bigint NOT NULL  IDENTITY(1,1),
[tenant_id] bigint NOT NULL  ,
[TenantName] varchar(50) NOT NULL  ,
[TenantCode] varchar(50) NOT NULL  ,
[ContactPerson] varchar(20) NOT NULL  ,
[ContactPhone] varchar(20) NOT NULL  ,
[ContactEmail] varchar(50) NOT NULL  ,
[Address] varchar(200) NOT NULL  ,
[DbConnection] varchar(500) NOT NULL  ,
[Domain] varchar(100) NOT NULL  ,
[LogoUrl] varchar(200) NOT NULL  ,
[Theme] varchar(50) NOT NULL  ,
[LicenseStartTime] datetime NOT NULL  ,
[LicenseEndTime] datetime NOT NULL  ,
[MaxUserCount] int NOT NULL  ,
[Status] int NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.8618|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_tenant] ADD CONSTRAINT PK_hbt_tenant_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.8729|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.9175|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.9175|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'TenantName'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.9620|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户名称', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'TenantName'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:22.9644|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'TenantCode'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.0040|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户编码', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'TenantCode'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.0040|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'ContactPerson'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.0443|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'联系人', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'ContactPerson'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.0443|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'ContactPhone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.0910|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'联系电话', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'ContactPhone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.0910|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'ContactEmail'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.1374|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'联系邮箱', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'ContactEmail'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.1374|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'Address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.1770|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户地址', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'Address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.1770|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'DbConnection'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.2173|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'数据库连接字符串', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'DbConnection'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.2173|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'Domain'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.2602|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户域名', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'Domain'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.2622|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'LogoUrl'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.3009|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户Logo', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'LogoUrl'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.3009|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'Theme'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.3412|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户主题', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'Theme'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.3412|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'LicenseStartTime'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.3818|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'授权开始时间', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'LicenseStartTime'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.3818|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'LicenseEndTime'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.4226|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'授权结束时间', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'LicenseEndTime'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.4226|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'MaxUserCount'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.4637|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最大用户数', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'MaxUserCount'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.4661|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'Status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.5050|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户状态', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'Status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.5050|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.5468|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.5468|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.5877|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.5907|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.6305|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.6305|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.6713|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.6713|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.7188|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.7188|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.7663|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.7663|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.8082|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.8112|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.8495|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.8495|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.8910|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.8910|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_tenant'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.9282|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户表', N'user', N'dbo', N'table', N'hbt_tenant', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:23.9282|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_tenant'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.1348|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_tenant] ADD DEFAULT '0' FOR [is_deleted]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.1588|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_audit_log')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.1796|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_audit_log](
[Id] bigint NOT NULL  IDENTITY(1,1),
[user_id] bigint NOT NULL  ,
[user_name] nvarchar(50) NOT NULL  ,
[module] nvarchar(50) NOT NULL  ,
[operation] nvarchar(50) NOT NULL  ,
[method] nvarchar(100) NOT NULL  ,
[parameters] nvarchar(max) NULL  ,
[result] nvarchar(max) NULL  ,
[elapsed] bigint NOT NULL  ,
[ip_address] nvarchar(50) NOT NULL  ,
[user_agent] nvarchar(500) NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.1855|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_audit_log] ADD CONSTRAINT PK_hbt_audit_log_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.1855|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.2381|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.2381|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.2821|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.2821|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'module'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.3261|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'模块', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'module'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.3261|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'operation'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.3668|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'操作', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'operation'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.3668|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'method'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.4082|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'方法', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'method'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.4082|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'parameters'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.4491|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'参数', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'parameters'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.4491|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'result'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.4898|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'结果', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'result'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.4898|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'elapsed'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.5315|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'耗时(毫秒)', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'elapsed'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.5315|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.5747|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'IP地址', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.5747|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.6168|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户代理', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.6168|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.6578|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.6578|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.6987|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.7014|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.7400|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.7400|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.7814|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.7814|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.8226|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.8254|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.8632|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.8632|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.9031|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.9031|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.9443|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.9443|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.9864|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:24.9864|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_audit_log'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.0237|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'审计日志表', N'user', N'dbo', N'table', N'hbt_audit_log', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.0237|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_audit_log'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.2307|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_audit_log] ADD DEFAULT '0' FOR [is_deleted]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.2487|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_login_log')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.2672|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_login_log](
[Id] bigint NOT NULL  IDENTITY(1,1),
[user_id] bigint NOT NULL  ,
[user_name] nvarchar(50) NOT NULL  ,
[ip_address] nvarchar(50) NOT NULL  ,
[user_agent] nvarchar(500) NOT NULL  ,
[success] bit NOT NULL  ,
[message] nvarchar(500) NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.2672|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_login_log] ADD CONSTRAINT PK_hbt_login_log_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.2783|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.3167|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.3167|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.3563|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.3563|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.3975|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'IP地址', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.3975|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.4377|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户代理', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.4377|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'success'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.4798|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否成功', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'success'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.4837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'message'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.5222|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'消息', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'message'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.5222|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.5619|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.5619|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.6023|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.6023|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.6429|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.6429|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.6833|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.6833|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.7232|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.7232|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.7623|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.7623|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.8030|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.8030|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.8425|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.8425|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.8850|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.8877|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_login_log'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.9221|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'登录日志表', N'user', N'dbo', N'table', N'hbt_login_log', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:25.9221|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_login_log'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.1204|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_login_log] ADD DEFAULT '0' FOR [is_deleted]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.1390|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_exception_log')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.1562|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: CREATE TABLE [hbt_exception_log](
[Id] bigint NOT NULL  IDENTITY(1,1),
[user_id] bigint NOT NULL  ,
[user_name] nvarchar(50) NOT NULL  ,
[method] nvarchar(100) NOT NULL  ,
[parameters] nvarchar(max) NULL  ,
[exception_type] nvarchar(200) NOT NULL  ,
[exception_message] nvarchar(max) NOT NULL  ,
[stack_trace] nvarchar(max) NULL  ,
[ip_address] nvarchar(50) NOT NULL  ,
[user_agent] nvarchar(500) NOT NULL  ,
[create_by] nvarchar(50) NOT NULL  ,
[create_time] datetime NOT NULL  ,
[update_by] nvarchar(50) NULL  ,
[update_time] datetime NULL  ,
[delete_by] nvarchar(50) NULL  ,
[delete_time] datetime NULL  ,
[is_deleted] int NOT NULL  ,
[remark] nvarchar(500) NULL  )
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.1562|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_exception_log] ADD CONSTRAINT PK_hbt_exception_log_Id PRIMARY KEY([Id])
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.1562|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.2066|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.2066|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.2484|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.2484|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'method'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.2891|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'方法', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'method'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.2891|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'parameters'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.3309|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'参数', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'parameters'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.3309|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'exception_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.3733|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'异常类型', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'exception_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.3733|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'exception_message'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.4163|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'异常消息', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'exception_message'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.4184|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'stack_trace'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.4563|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'堆栈跟踪', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'stack_trace'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.4563|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.4965|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'IP地址', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.4965|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.5368|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户代理', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.5368|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.5774|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.5774|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.6195|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.6220|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.6613|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.6613|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.7032|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.7032|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.7456|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.7490|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.7888|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.7888|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.8309|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.8309|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.8732|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.8732|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.9146|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.9146|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_exception_log'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.9493|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'异常日志表', N'user', N'dbo', N'table', N'hbt_exception_log', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:26.9493|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_exception_log'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:27.1659|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: alter table [hbt_exception_log] ADD DEFAULT '0' FOR [is_deleted]
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:27.4059|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT  TOP 1 1 FROM [hbt_tenant] 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:41:27.6466|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: INSERT INTO [hbt_tenant]  
           ([tenant_id],[TenantName],[TenantCode],[ContactPerson],[ContactPhone],[ContactEmail],[Address],[DbConnection],[Domain],[LogoUrl],[Theme],[LicenseStartTime],[LicenseEndTime],[MaxUserCount],[Status],[create_by],[create_time],[update_by],[update_time],[delete_by],[delete_time],[is_deleted],[remark])
     VALUES
           (@tenant_id,@TenantName,@TenantCode,@ContactPerson,@ContactPhone,@ContactEmail,@Address,@DbConnection,@Domain,@LogoUrl,@Theme,@LicenseStartTime,@LicenseEndTime,@MaxUserCount,@Status,@create_by,@create_time,@update_by,@update_time,@delete_by,@delete_time,@is_deleted,@remark) ;
Parameters: [{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":12,"Direction":0,"IsNullable":false,"ParameterName":"@tenant_id","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":0,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@TenantName","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"默认租户","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@TenantCode","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@ContactPerson","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@ContactPhone","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@ContactEmail","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@Address","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@DbConnection","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@Domain","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@LogoUrl","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@Theme","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":6,"Direction":0,"IsNullable":false,"ParameterName":"@LicenseStartTime","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":6,"Direction":0,"IsNullable":false,"ParameterName":"@LicenseEndTime","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":11,"Direction":0,"IsNullable":false,"ParameterName":"@MaxUserCount","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":0,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":12,"Direction":0,"IsNullable":false,"ParameterName":"@Status","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":0,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@create_by","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"system","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":6,"Direction":0,"IsNullable":false,"ParameterName":"@create_time","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"2025-01-18T12:41:27.2543861+08:00","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@update_by","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":6,"Direction":0,"IsNullable":false,"ParameterName":"@update_time","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@delete_by","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":6,"Direction":0,"IsNullable":false,"ParameterName":"@delete_time","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":11,"Direction":0,"IsNullable":false,"ParameterName":"@is_deleted","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":0,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@remark","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0}] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.1948|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.2056|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.2875|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.2982|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.2982|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.2982|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3099|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3099|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3099|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3099|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3099|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3099|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3099|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3391|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3391|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3391|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3391|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3391|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3391|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3391|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3391|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3391|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3391|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3569|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3569|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3569|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3569|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3569|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3569|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3569|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3569|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3718|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3718|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3718|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3718|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3718|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3718|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3718|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3718|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3868|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3868|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3868|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3868|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3868|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3868|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3868|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.3868|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4031|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4031|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4031|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4031|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4031|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4031|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4031|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4031|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4200|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4200|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4200|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4200|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4200|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4200|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4200|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4200|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4362|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4362|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4362|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4362|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.4362|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.5041|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_role')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.5140|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.5345|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'role_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.5345|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','role_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.5345|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色名称', N'user', N'dbo', N'table', N'hbt_role', N'column', N'role_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.5345|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.5345|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.5433|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色标识', N'user', N'dbo', N'table', N'hbt_role', N'column', N'role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.5433|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'role_sort'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.5433|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','role_sort'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.5433|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色排序', N'user', N'dbo', N'table', N'hbt_role', N'column', N'role_sort'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.5433|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'data_scope'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.5433|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','data_scope'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.5433|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'数据范围', N'user', N'dbo', N'table', N'hbt_role', N'column', N'data_scope'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.5433|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.6109|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.6109|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_role', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.6109|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.6566|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.6566|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_role', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.6566|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.7002|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.7002|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_role', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.7002|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.7460|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.7460|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_role', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.7460|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.7956|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.7956|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_role', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.7956|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.8413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.8413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_role', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.8413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.8842|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.8868|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_role', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.8868|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.9279|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.9279|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_role', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.9279|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.9707|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.9707|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_role', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:26.9707|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.0117|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.0117|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_role', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.0117|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.0540|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.0540|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_role', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.0540|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_role'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.0879|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.0879|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色表', N'user', N'dbo', N'table', N'hbt_role', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.0912|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.0912|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_role'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.0912|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.3086|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_menu')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.3086|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_menu'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.5141|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'menu_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.5609|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','menu_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.5609|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单名称', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'menu_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.5609|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'trans_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.6048|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','trans_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.6048|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'翻译Key', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'trans_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.6048|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.6541|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.6541|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'父菜单ID', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.6541|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.6992|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.6992|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'显示顺序', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.6992|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'path'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.7427|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','path'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.7472|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'路由地址', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'path'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.7472|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'component'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.7936|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','component'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.7936|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'组件路径', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'component'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.7936|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'is_frame'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.8410|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','is_frame'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.8410|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否为外链（0否 1是）', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'is_frame'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.8410|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'menu_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.8949|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','menu_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.8949|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单类型（0目录 1菜单 2按钮）', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'menu_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.9038|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'visible'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.9516|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','visible'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.9516|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'显示状态（0显示 1隐藏）', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'visible'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.9516|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.9989|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.9989|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:27.9989|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'perms'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.0442|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','perms'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.0442|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'权限标识', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'perms'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.0442|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'icon'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.0964|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','icon'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.0964|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单图标', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'icon'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.0964|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.1438|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.1438|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.1438|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.1867|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.1867|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.1867|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.2350|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.2350|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.2350|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.2806|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.2806|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.2806|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.3263|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.3263|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.3263|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.3694|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.3716|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.3716|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.4112|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.4112|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.4112|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.4540|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.4540|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.4540|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.4982|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.4982|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.4982|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.5463|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.5463|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.5463|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_menu'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.5819|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.5819|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单表', N'user', N'dbo', N'table', N'hbt_menu', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.5819|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_menu'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.6245|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_dept')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.6245|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.8314|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'dept_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.8709|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','dept_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.8709|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'部门名称', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'dept_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.8709|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.9184|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.9184|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'父部门ID', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.9184|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.9683|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.9683|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'显示顺序', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:28.9683|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'leader'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.0223|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','leader'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.0223|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'负责人', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'leader'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.0223|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.0712|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.0753|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'联系电话', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.0753|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.1249|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.1249|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.1249|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.1688|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.1688|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.1688|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.2180|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.2180|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.2180|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.2629|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.2629|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.2629|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.3077|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.3096|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.3096|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.3518|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.3518|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.3554|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.3927|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.3927|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.3927|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.4400|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.4400|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.4400|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.4876|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.4876|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.4876|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.5364|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.5364|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.5429|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.5825|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.5825|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.5825|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.6314|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.6314|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.6379|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_dept'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.6711|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.6711|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'部门表', N'user', N'dbo', N'table', N'hbt_dept', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.6711|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_dept_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.6711|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_dept'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.6711|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.7194|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_post')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.7194|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_post'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.9333|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'post_code'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.9850|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','post_code'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.9850|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'岗位编码', N'user', N'dbo', N'table', N'hbt_post', N'column', N'post_code'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:29.9850|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'post_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.0363|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','post_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.0363|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'岗位名称', N'user', N'dbo', N'table', N'hbt_post', N'column', N'post_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.0426|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.0861|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.0861|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'显示顺序', N'user', N'dbo', N'table', N'hbt_post', N'column', N'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.0910|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.1294|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.1294|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_post', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.1370|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.1828|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.1867|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_post', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.1867|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.2357|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.2357|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_post', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.2357|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.2924|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.2957|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_post', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.2957|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.3382|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.3414|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_post', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.3414|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.3902|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.3902|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_post', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.3902|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.4404|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.4404|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_post', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.4404|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.4826|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.4826|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_post', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.4826|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.5302|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.5302|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_post', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.5302|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.5806|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.5806|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_post', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.5806|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.6279|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.6279|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_post', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.6279|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_post'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.6745|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.6745|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'岗位表', N'user', N'dbo', N'table', N'hbt_post', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.6745|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_post_code'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.6835|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_post'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.6835|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_post'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.7097|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user_role')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.7155|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user_role'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.9317|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.9789|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.9823|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:30.9823|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.0250|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.0276|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色ID', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.0276|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.0687|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.0687|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.0687|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.1122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.1122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.1122|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.1547|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.1547|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.1547|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.1979|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.2006|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.2006|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.2413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.2413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.2459|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.2830|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.2830|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.2830|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.3240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.3240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.3240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.3638|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.3638|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.3638|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.4045|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.4045|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.4045|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.4522|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.4522|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.4522|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user_role'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.4982|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.4982|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户角色关联表', N'user', N'dbo', N'table', N'hbt_user_role', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.4982|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_role'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.4982|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user_role'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.5328|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user_dept')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.5328|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.7368|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.7748|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.7748|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.7790|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'dept_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.8171|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','dept_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.8171|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'部门ID', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'dept_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.8171|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.8657|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.8657|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.8657|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.9080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.9080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.9080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.9562|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.9562|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:31.9562|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.0051|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.0051|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.0051|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.0541|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.0541|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.0541|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.0958|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.0958|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.0958|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.1453|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.1453|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.1453|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.1946|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.1946|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.1998|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.2375|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.2375|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.2375|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.2800|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.2800|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.2800|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user_dept'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.3201|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.3201|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户部门关联表', N'user', N'dbo', N'table', N'hbt_user_dept', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.3254|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_dept'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.3254|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.3617|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user_post')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.3707|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user_post'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.5763|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.6232|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.6232|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.6232|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'post_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.6752|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','post_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.6752|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'岗位ID', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'post_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.6752|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.7186|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.7186|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.7186|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.7672|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.7672|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.7672|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.8162|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.8162|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.8162|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.8630|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.8630|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.8630|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.9126|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.9126|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.9213|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.9666|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.9666|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:32.9666|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.0132|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.0132|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.0132|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.0594|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.0594|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.0594|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.1041|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.1064|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.1064|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.1520|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.1544|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.1544|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user_post'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.1894|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.1894|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户岗位关联表', N'user', N'dbo', N'table', N'hbt_user_post', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.1894|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_post'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.2005|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user_post'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.2655|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_role_menu')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.2782|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role_menu'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.4862|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.5258|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.5289|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色ID', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.5289|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'menu_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.5689|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','menu_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.5689|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单ID', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'menu_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.5762|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.6159|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.6159|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.6224|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.6622|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.6622|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.6680|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.7145|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.7167|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.7167|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.7631|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.7631|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.7631|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.8153|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.8153|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.8153|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.8648|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.8648|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.8721|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.9178|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.9214|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.9214|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.9693|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.9693|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:33.9693|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.0240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.0278|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.0278|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.0768|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.0768|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.0768|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_role_menu'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.1253|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.1253|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色菜单关联表', N'user', N'dbo', N'table', N'hbt_role_menu', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.1253|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_role_menu'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.1366|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role_menu'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.2058|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_role_dept')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.2214|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.4621|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.5091|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.5125|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色ID', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.5125|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'dept_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.5558|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','dept_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.5584|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'部门ID', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'dept_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.5584|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.6001|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.6001|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.6070|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.6475|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.6475|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.6553|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.7048|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.7048|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.7048|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.7592|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.7628|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.7628|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.8082|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.8106|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.8106|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.8510|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.8510|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.8582|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.8984|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.9024|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.9024|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.9520|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.9520|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.9520|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.9992|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.9992|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:34.9992|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.0461|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.0461|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.0461|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_role_dept'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.0855|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.0893|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色部门关联表', N'user', N'dbo', N'table', N'hbt_role_dept', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.0893|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_role_dept'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.0893|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.1717|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_tenant')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.1866|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_tenant'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.4241|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_tenant] ALTER COLUMN [TenantName] nvarchar(50) NOT NULL  
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.4344|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_tenant] ALTER COLUMN [TenantCode] nvarchar(50) NOT NULL  
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.4344|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_tenant] ALTER COLUMN [ContactPerson] nvarchar(20) NOT NULL  
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.4505|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_tenant] ALTER COLUMN [ContactPhone] nvarchar(20) NOT NULL  
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.4505|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_tenant] ALTER COLUMN [ContactEmail] nvarchar(50) NOT NULL  
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.4505|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_tenant] ALTER COLUMN [Address] nvarchar(200) NOT NULL  
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.4703|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_tenant] ALTER COLUMN [DbConnection] nvarchar(500) NOT NULL  
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.4703|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_tenant] ALTER COLUMN [Domain] nvarchar(100) NOT NULL  
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.4853|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_tenant] ALTER COLUMN [LogoUrl] nvarchar(200) NOT NULL  
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.4853|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: ALTER TABLE [hbt_tenant] ALTER COLUMN [Theme] nvarchar(50) NOT NULL  
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.5005|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.5456|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.5456|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.5456|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'TenantName'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.5923|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','TenantName'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.5923|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户名称', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'TenantName'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.5923|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'TenantCode'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.6383|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','TenantCode'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.6383|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户编码', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'TenantCode'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.6383|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'ContactPerson'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.6872|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','ContactPerson'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.6872|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'联系人', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'ContactPerson'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.6872|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'ContactPhone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.7413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','ContactPhone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.7413|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'联系电话', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'ContactPhone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.7493|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'ContactEmail'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.7962|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','ContactEmail'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.7962|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'联系邮箱', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'ContactEmail'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.7962|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'Address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.8461|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','Address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.8461|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户地址', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'Address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.8461|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'DbConnection'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.8958|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','DbConnection'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.8958|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'数据库连接字符串', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'DbConnection'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.8958|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'Domain'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.9450|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','Domain'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.9498|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户域名', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'Domain'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.9498|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'LogoUrl'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.9957|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','LogoUrl'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.9994|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户Logo', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'LogoUrl'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:35.9994|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'Theme'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.0514|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','Theme'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.0514|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户主题', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'Theme'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.0594|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'LicenseStartTime'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.1079|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','LicenseStartTime'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.1079|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'授权开始时间', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'LicenseStartTime'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.1079|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'LicenseEndTime'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.1629|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','LicenseEndTime'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.1629|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'授权结束时间', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'LicenseEndTime'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.1701|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'MaxUserCount'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.2197|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','MaxUserCount'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.2197|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最大用户数', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'MaxUserCount'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.2197|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'Status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.2741|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','Status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.2776|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户状态', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'Status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.2776|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.3206|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.3241|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.3241|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.3750|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.3750|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.3750|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.4183|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.4183|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.4183|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.4717|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.4717|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.4717|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.5197|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.5197|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.5278|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.5696|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.5696|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.5774|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.6196|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.6238|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.6238|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.6715|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.6715|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.6715|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.7266|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.7308|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.7308|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_tenant'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.7721|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.7721|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户表', N'user', N'dbo', N'table', N'hbt_tenant', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.7798|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_tenant'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.8724|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_audit_log')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:36.8724|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_audit_log'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.0894|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.1370|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.1370|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.1370|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.1840|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.1840|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.1840|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'module'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.2333|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','module'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.2333|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'模块', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'module'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.2333|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'operation'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.2830|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','operation'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.2830|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'操作', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'operation'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.2830|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'method'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.3330|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','method'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.3330|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'方法', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'method'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.3408|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'parameters'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.3833|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','parameters'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.3872|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'参数', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'parameters'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.3872|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'result'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.4358|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','result'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.4358|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'结果', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'result'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.4358|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'elapsed'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.4857|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','elapsed'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.4857|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'耗时(毫秒)', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'elapsed'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.4857|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.5357|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.5357|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'IP地址', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.5441|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.5866|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.5907|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户代理', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.5907|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.6415|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.6415|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.6415|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.6883|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.6883|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.6883|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.7368|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.7368|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.7368|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.7901|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.7942|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.7942|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.8453|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.8453|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.8453|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.8964|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.8964|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.9038|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.9452|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.9489|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.9489|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.9928|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.9971|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:37.9971|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.0483|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.0483|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.0483|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_audit_log'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.0841|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.0841|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'审计日志表', N'user', N'dbo', N'table', N'hbt_audit_log', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.0916|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_audit_log'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.1378|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_login_log')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.1378|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_login_log'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.3526|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.3992|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.4034|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.4034|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.4495|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.4495|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.4495|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.4997|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.4997|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'IP地址', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.4997|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.5474|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.5474|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户代理', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.5474|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'success'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.6013|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','success'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.6054|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否成功', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'success'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.6054|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'message'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.6558|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','message'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.6558|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'消息', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'message'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.6558|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.7041|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.7041|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.7041|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.7544|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.7544|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.7544|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.8068|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.8106|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.8106|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.8571|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.8571|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.8571|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.9051|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.9051|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.9051|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.9526|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.9526|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:38.9526|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.0023|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.0023|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.0023|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.0601|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.0601|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.0601|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.1191|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.1232|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.1232|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_login_log'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.1694|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.1694|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'登录日志表', N'user', N'dbo', N'table', N'hbt_login_log', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.1694|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_login_log'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.2188|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_exception_log')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.2188|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_exception_log'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.4559|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.5022|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.5022|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.5022|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.5507|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.5507|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.5581|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'method'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.6090|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','method'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.6090|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'方法', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'method'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.6090|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'parameters'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.6631|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','parameters'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.6631|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'参数', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'parameters'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.6707|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'exception_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.7214|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','exception_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.7214|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'异常类型', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'exception_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.7298|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'exception_message'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.7837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','exception_message'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.7837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'异常消息', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'exception_message'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.7837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'stack_trace'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.8328|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','stack_trace'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.8328|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'堆栈跟踪', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'stack_trace'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.8328|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.8809|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.8809|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'IP地址', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.8883|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.9339|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.9339|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户代理', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.9339|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.9912|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.9912|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:39.9995|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.0564|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.0605|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.0605|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.1111|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.1111|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.1111|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.1596|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.1596|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.1596|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.2063|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.2063|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.2063|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.2567|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.2567|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.2635|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.3090|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.3090|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.3090|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.3582|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.3582|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.3582|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.4085|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.4085|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.4085|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_exception_log'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.4588|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.4588|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'异常日志表', N'user', N'dbo', N'table', N'hbt_exception_log', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.4673|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_exception_log'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:40.7030|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT  TOP 1 1 FROM [hbt_tenant] 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 12:45:41.0773|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: INSERT INTO [hbt_tenant]  
           ([tenant_id],[TenantName],[TenantCode],[ContactPerson],[ContactPhone],[ContactEmail],[Address],[DbConnection],[Domain],[LogoUrl],[Theme],[LicenseStartTime],[LicenseEndTime],[MaxUserCount],[Status],[create_by],[create_time],[update_by],[update_time],[delete_by],[delete_time],[is_deleted],[remark])
     VALUES
           (@tenant_id,@TenantName,@TenantCode,@ContactPerson,@ContactPhone,@ContactEmail,@Address,@DbConnection,@Domain,@LogoUrl,@Theme,@LicenseStartTime,@LicenseEndTime,@MaxUserCount,@Status,@create_by,@create_time,@update_by,@update_time,@delete_by,@delete_time,@is_deleted,@remark) ;
Parameters: [{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":12,"Direction":0,"IsNullable":false,"ParameterName":"@tenant_id","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":0,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@TenantName","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"默认租户","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@TenantCode","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@ContactPerson","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@ContactPhone","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@ContactEmail","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@Address","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@DbConnection","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@Domain","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@LogoUrl","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@Theme","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":6,"Direction":0,"IsNullable":false,"ParameterName":"@LicenseStartTime","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":6,"Direction":0,"IsNullable":false,"ParameterName":"@LicenseEndTime","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":11,"Direction":0,"IsNullable":false,"ParameterName":"@MaxUserCount","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":0,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":12,"Direction":0,"IsNullable":false,"ParameterName":"@Status","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":0,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@create_by","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"system","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":6,"Direction":0,"IsNullable":false,"ParameterName":"@create_time","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"2025-01-18T12:45:40.5846596+08:00","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@update_by","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":6,"Direction":0,"IsNullable":false,"ParameterName":"@update_time","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@delete_by","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":6,"Direction":0,"IsNullable":false,"ParameterName":"@delete_time","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":11,"Direction":0,"IsNullable":false,"ParameterName":"@is_deleted","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":0,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@remark","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0}] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:07.8375|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:07.8487|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.1169|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.1725|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.1725|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.1725|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.2155|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.2155|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.2155|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.2580|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.2580|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'昵称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'nick_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.2644|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.3039|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.3039|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'英文名称', N'user', N'dbo', N'table', N'hbt_user', N'column', N'english_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.3101|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.3489|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.3489|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户类型（0系统用户 1普通用户）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'user_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.3489|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.3923|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.3923|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'密码', N'user', N'dbo', N'table', N'hbt_user', N'column', N'password'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.3923|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.4342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.4342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'盐值', N'user', N'dbo', N'table', N'hbt_user', N'column', N'salt'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.4342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.4742|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.4742|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_user', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.4742|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.5179|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.5179|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'手机号', N'user', N'dbo', N'table', N'hbt_user', N'column', N'phone_number'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.5179|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.5625|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.5625|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'性别（0未知 1男 2女）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'gender'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.5625|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.6072|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.6072|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'头像', N'user', N'dbo', N'table', N'hbt_user', N'column', N'avatar'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.6072|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.6551|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.6551|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_user', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.6551|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.6969|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.7011|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最后修改密码时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'last_password_change_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.7011|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.7471|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.7471|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.7471|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.7922|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.7946|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.7946|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.8347|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.8347|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.8347|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.8828|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.8828|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.8885|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.9296|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.9296|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.9296|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.9706|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.9706|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:08.9706|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.0135|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.0135|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.0135|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.0547|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.0547|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.0547|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.0967|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.0967|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.0967|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.1333|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.1333|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户表', N'user', N'dbo', N'table', N'hbt_user', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.1392|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.1392|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.1392|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.1392|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_user'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.1392|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.1784|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_role')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.1837|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.2013|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'role_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.2405|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','role_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.2405|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色名称', N'user', N'dbo', N'table', N'hbt_role', N'column', N'role_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.2405|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.2829|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.2829|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色标识', N'user', N'dbo', N'table', N'hbt_role', N'column', N'role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.2829|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'role_sort'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.3269|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','role_sort'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.3269|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色排序', N'user', N'dbo', N'table', N'hbt_role', N'column', N'role_sort'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.3269|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'data_scope'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.3759|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','data_scope'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.3759|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'数据范围', N'user', N'dbo', N'table', N'hbt_role', N'column', N'data_scope'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.3759|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.3759|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.3759|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_role', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.3882|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.3882|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.3882|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_role', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.3882|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.3882|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.3882|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_role', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.3882|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4026|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4026|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_role', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4026|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4026|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4026|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_role', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4026|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4026|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4026|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_role', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4026|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4026|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4192|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_role', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4192|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4192|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4192|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_role', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4192|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4192|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4192|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_role', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4192|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4192|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4192|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_role', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4192|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4894|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4894|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_role', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.4894|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_role'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.5255|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.5279|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色表', N'user', N'dbo', N'table', N'hbt_role', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.5279|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_role_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.5279|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_role'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.5279|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.7475|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_menu')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.7475|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_menu'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.9492|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'menu_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.9872|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','menu_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.9872|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单名称', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'menu_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:09.9872|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'trans_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.0288|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','trans_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.0288|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'翻译Key', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'trans_key'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.0288|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.0702|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.0702|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'父菜单ID', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.0702|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.1103|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.1103|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'显示顺序', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.1103|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'path'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.1512|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','path'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.1528|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'路由地址', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'path'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.1528|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'component'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.2014|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','component'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.2014|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'组件路径', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'component'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.2014|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'is_frame'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.2522|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','is_frame'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.2522|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否为外链（0否 1是）', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'is_frame'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.2522|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'menu_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.2977|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','menu_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.2977|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单类型（0目录 1菜单 2按钮）', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'menu_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.2977|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'visible'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.3411|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','visible'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.3411|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'显示状态（0显示 1隐藏）', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'visible'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.3411|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.3865|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.3865|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.3865|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'perms'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.4302|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','perms'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.4332|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'权限标识', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'perms'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.4332|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'icon'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.4765|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','icon'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.4765|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单图标', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'icon'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.4831|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.5295|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.5295|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.5295|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.5721|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.5756|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.5756|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.6186|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.6218|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.6218|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.6660|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.6687|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.6687|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.7106|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.7106|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.7168|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.7548|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.7548|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.7548|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.7978|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.7978|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.7978|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.8420|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.8420|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.8420|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.8843|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.8873|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.8873|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_menu' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.9286|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.9286|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_menu', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.9342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_menu'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.9684|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_menu' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.9684|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单表', N'user', N'dbo', N'table', N'hbt_menu', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:10.9684|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_menu'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.0131|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_dept')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.0131|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.2192|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'dept_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.2583|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','dept_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.2583|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'部门名称', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'dept_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.2633|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.3018|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.3018|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'父部门ID', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'parent_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.3018|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.3476|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.3476|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'显示顺序', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.3476|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'leader'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.3944|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','leader'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.3944|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'负责人', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'leader'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.3944|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.4371|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.4371|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'联系电话', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'phone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.4371|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.4805|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.4805|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'邮箱', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'email'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.4805|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.5240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.5240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.5288|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.5670|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.5670|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.5670|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.6179|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.6179|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.6222|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.6660|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.6684|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.6684|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.7086|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.7086|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.7086|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.7525|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.7525|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.7525|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.7967|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.7967|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.7967|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.8375|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.8396|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.8396|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.8808|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.8808|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.8863|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.9257|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.9257|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.9257|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_dept' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.9706|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.9706|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_dept', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:11.9706|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_dept'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.0108|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_dept' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.0128|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'部门表', N'user', N'dbo', N'table', N'hbt_dept', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.0128|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_dept_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.0128|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_dept'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.0128|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.1063|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_post')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.1063|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_post'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.3158|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'post_code'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.3555|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','post_code'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.3555|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'岗位编码', N'user', N'dbo', N'table', N'hbt_post', N'column', N'post_code'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.3555|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'post_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.3983|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','post_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.3983|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'岗位名称', N'user', N'dbo', N'table', N'hbt_post', N'column', N'post_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.4030|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.4410|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.4410|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'显示顺序', N'user', N'dbo', N'table', N'hbt_post', N'column', N'order_num'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.4410|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.4824|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.4824|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'状态（0正常 1停用）', N'user', N'dbo', N'table', N'hbt_post', N'column', N'status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.4824|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.5262|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.5291|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_post', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.5291|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.5707|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.5741|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_post', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.5741|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.6148|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.6148|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_post', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.6207|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.6599|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.6599|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_post', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.6599|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.7019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.7019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_post', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.7019|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.7436|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.7436|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_post', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.7469|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.7842|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.7842|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_post', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.7842|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.8250|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.8250|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_post', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.8250|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.8678|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.8711|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_post', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.8711|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_post' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.9115|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.9115|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_post', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.9115|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_post'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.9445|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_post' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.9445|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'岗位表', N'user', N'dbo', N'table', N'hbt_post', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.9445|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_post_code'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.9493|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_tenant_post'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.9493|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_post'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.9809|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user_role')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:12.9809|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user_role'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.1769|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.2150|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.2173|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.2173|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.2579|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.2579|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色ID', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.2616|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.2994|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.2994|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.2994|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.3415|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.3415|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.3415|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.3840|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.3840|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.3875|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.4256|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.4256|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.4256|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.4671|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.4671|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.4671|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.5111|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.5111|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.5111|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.5532|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.5532|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.5532|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.5955|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.5955|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.5955|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.6392|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.6392|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.6392|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_role' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.6799|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.6799|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user_role', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.6838|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user_role'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.7143|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_role' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.7162|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户角色关联表', N'user', N'dbo', N'table', N'hbt_user_role', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.7162|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_role'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.7162|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user_role'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.7482|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user_dept')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.7482|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.9511|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.9896|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.9896|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:13.9896|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'dept_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.0317|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','dept_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.0317|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'部门ID', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'dept_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.0317|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.0745|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.0745|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.0745|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.1174|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.1174|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.1220|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.1602|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.1602|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.1602|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.2006|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.2006|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.2006|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.2421|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.2421|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.2476|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.2870|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.2870|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.2870|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.3293|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.3293|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.3293|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.3752|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.3752|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.3752|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.4199|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.4199|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.4199|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_dept' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.4601|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.4601|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user_dept', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.4601|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user_dept'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.4944|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_dept' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.4964|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户部门关联表', N'user', N'dbo', N'table', N'hbt_user_dept', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.4964|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_dept'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.4964|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.5291|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_user_post')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.5291|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user_post'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.7324|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.7715|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.7715|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.7715|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'post_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.8251|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','post_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.8251|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'岗位ID', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'post_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.8251|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.8744|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.8744|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.8744|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.9177|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.9202|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.9202|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.9608|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.9608|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:14.9643|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.0035|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.0035|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.0035|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.0454|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.0454|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.0454|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.0886|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.0908|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.0908|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.1342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.1342|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.1385|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.1771|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.1771|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.1771|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.2208|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.2208|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.2208|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_user_post' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.2616|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.2616|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_user_post', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.2616|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_user_post'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.2976|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_user_post' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.2976|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户岗位关联表', N'user', N'dbo', N'table', N'hbt_user_post', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.2976|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_user_post'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.2976|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_user_post'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.3264|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_role_menu')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.3264|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role_menu'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.5257|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.5642|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.5642|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色ID', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.5642|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'menu_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.6050|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','menu_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.6050|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'菜单ID', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'menu_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.6050|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.6462|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.6462|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.6462|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.6883|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.6883|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.6883|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.7305|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.7305|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.7305|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.7787|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.7787|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.7787|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.8238|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.8257|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.8257|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.8655|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.8655|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.8655|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.9079|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.9079|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.9079|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.9485|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.9502|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.9502|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.9899|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.9899|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:15.9899|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_menu' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.0337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.0337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_role_menu', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.0337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_role_menu'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.0693|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_menu' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.0693|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色菜单关联表', N'user', N'dbo', N'table', N'hbt_role_menu', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.0693|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_role_menu'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.0693|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role_menu'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.0963|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_role_dept')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.0963|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.2952|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.3348|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.3348|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色ID', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'role_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.3348|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'dept_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.3772|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','dept_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.3772|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'部门ID', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'dept_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.3772|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.4179|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.4179|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.4179|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.4595|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.4595|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.4595|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.5014|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.5014|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.5014|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.5424|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.5449|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.5449|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.5844|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.5844|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.5844|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.6288|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.6288|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.6288|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.6700|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.6700|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.6700|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.7121|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.7121|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.7163|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.7545|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.7545|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.7545|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_role_dept' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.7971|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.7971|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_role_dept', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.7971|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_role_dept'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.8328|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_role_dept' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.8328|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'角色部门关联表', N'user', N'dbo', N'table', N'hbt_role_dept', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.8328|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: select count(*) from sys.indexes where name='ix_role_dept'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.8328|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_role_dept'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.8626|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_tenant')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:16.8626|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_tenant'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.0722|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.1107|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.1107|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户ID', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'tenant_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.1107|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'TenantName'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.1539|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','TenantName'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.1539|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户名称', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'TenantName'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.1539|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'TenantCode'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.1979|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','TenantCode'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.1997|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户编码', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'TenantCode'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.1997|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'ContactPerson'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.2482|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','ContactPerson'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.2482|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'联系人', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'ContactPerson'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.2482|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'ContactPhone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.2953|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','ContactPhone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.2953|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'联系电话', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'ContactPhone'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.2953|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'ContactEmail'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.3375|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','ContactEmail'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.3402|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'联系邮箱', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'ContactEmail'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.3402|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'Address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.3801|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','Address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.3801|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户地址', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'Address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.3801|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'DbConnection'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.4230|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','DbConnection'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.4230|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'数据库连接字符串', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'DbConnection'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.4230|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'Domain'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.4670|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','Domain'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.4670|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户域名', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'Domain'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.4670|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'LogoUrl'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.5094|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','LogoUrl'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.5120|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户Logo', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'LogoUrl'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.5120|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'Theme'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.5519|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','Theme'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.5519|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户主题', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'Theme'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.5519|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'LicenseStartTime'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.6009|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','LicenseStartTime'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.6009|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'授权开始时间', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'LicenseStartTime'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.6009|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'LicenseEndTime'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.6427|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','LicenseEndTime'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.6427|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'授权结束时间', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'LicenseEndTime'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.6427|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'MaxUserCount'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.6871|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','MaxUserCount'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.6871|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'最大用户数', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'MaxUserCount'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.6871|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'Status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.7294|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','Status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.7309|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户状态', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'Status'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.7309|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.7704|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.7704|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.7704|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.8120|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.8120|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.8120|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.8557|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.8557|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.8557|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.8979|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.8979|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.8979|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.9389|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.9389|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.9389|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.9807|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.9807|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:17.9807|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.0225|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.0225|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.0225|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.0638|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.0638|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.0638|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_tenant' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.1063|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.1063|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_tenant', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.1063|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_tenant'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.1408|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_tenant' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.1408|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'租户表', N'user', N'dbo', N'table', N'hbt_tenant', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.1408|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_tenant'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.2005|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_audit_log')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.2005|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_audit_log'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.4004|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.4393|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.4393|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.4393|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.4825|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.4825|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.4825|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'module'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.5262|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','module'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.5281|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'模块', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'module'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.5281|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'operation'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.5682|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','operation'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.5682|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'操作', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'operation'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.5682|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'method'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.6141|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','method'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.6304|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'方法', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'method'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.6304|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'parameters'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.6760|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','parameters'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.6760|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'参数', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'parameters'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.6760|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'result'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.7184|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','result'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.7184|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'结果', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'result'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.7184|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'elapsed'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.7606|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','elapsed'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.7631|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'耗时(毫秒)', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'elapsed'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.7631|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.8035|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.8035|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'IP地址', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.8035|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.8474|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.8474|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户代理', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.8474|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.8898|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.8898|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.8898|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.9311|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.9337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.9337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.9739|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.9739|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:18.9739|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.0189|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.0189|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.0189|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.0624|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.0624|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.0624|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.1043|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.1062|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.1062|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.1459|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.1459|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.1459|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.1929|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.1929|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.1929|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_audit_log' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.2363|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.2363|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_audit_log', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.2363|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_audit_log'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.2731|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_audit_log' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.2731|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'审计日志表', N'user', N'dbo', N'table', N'hbt_audit_log', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.2731|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_audit_log'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.3195|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_login_log')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.3261|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_login_log'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.5331|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.5799|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.5799|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.5799|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.6224|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.6224|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.6224|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.6632|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.6632|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'IP地址', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.6697|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.7097|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.7097|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户代理', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.7097|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'success'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.7511|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','success'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.7511|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否成功', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'success'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.7511|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'message'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.7929|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','message'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.7929|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'消息', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'message'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.7929|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.8375|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.8403|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.8403|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.8868|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.8868|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.8868|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.9299|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.9299|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.9337|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.9719|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.9719|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:19.9719|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.0128|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.0128|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.0128|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.0548|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.0548|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.0580|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.0963|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.0963|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.0963|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.1387|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.1387|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.1387|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_login_log' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.1793|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.1793|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_login_log', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.1831|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_login_log'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.2152|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_login_log' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.2152|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'登录日志表', N'user', N'dbo', N'table', N'hbt_login_log', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.2152|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_login_log'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.5954|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: IF EXISTS (SELECT * FROM sys.objects with(nolock)
                        WHERE type='u' AND name=N'hbt_exception_log')  
                        SELECT 1 AS res ELSE SELECT 0 AS res;
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.5954|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_exception_log'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.8335|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.8792|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.8792|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户ID', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'user_id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.8792|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.9240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.9240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户名', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'user_name'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.9240|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'method'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.9652|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','method'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.9652|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'方法', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'method'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:20.9652|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'parameters'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.0080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','parameters'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.0080|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'参数', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'parameters'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.0119|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'exception_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.0519|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','exception_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.0519|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'异常类型', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'exception_type'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.0519|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'exception_message'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.0966|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','exception_message'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.0966|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'异常消息', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'exception_message'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.1067|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'stack_trace'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.1476|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','stack_trace'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.1476|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'堆栈跟踪', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'stack_trace'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.1536|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.1937|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.1985|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'IP地址', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'ip_address'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.1985|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.2440|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.2457|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'用户代理', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'user_agent'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.2457|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.2855|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.2855|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'主键', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'Id'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.2855|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.3266|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.3266|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建者', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'create_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.3266|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.3690|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.3716|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'创建时间', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'create_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.3716|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.4119|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.4119|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新者', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'update_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.4119|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.4584|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.4584|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'更新时间', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'update_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.4584|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.5020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.5020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除者', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'delete_by'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.5020|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.5464|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.5464|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'删除时间', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'delete_time'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.5464|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.5910|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.5910|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'是否删除(0=未删除,1=已删除)', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'is_deleted'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.5910|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT A.name AS table_name, B.name AS column_name, C.value AS column_description FROM sys.tables A LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id LEFT JOIN sys.columns B ON B.object_id = A.object_id AND C.minor_id = B.column_id INNER JOIN sys.schemas SC ON SC.schema_id = A.schema_id AND SC.name = 'dbo' WHERE A.name = 'hbt_exception_log' and B.name = 'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.6343|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log','column','remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.6368|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'备注', N'user', N'dbo', N'table', N'hbt_exception_log', N'column', N'remark'
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.6368|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT C.class_desc
                                FROM sys.tables A 
                                LEFT JOIN sys.extended_properties C ON C.major_id = A.object_id 
								INNER JOIN sys.schemas SC ON  SC.schema_id=A.schema_id AND SC.name='dbo'
                                WHERE A.name = 'hbt_exception_log'  AND minor_id=0
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.6706|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXEC sp_dropextendedproperty 'MS_Description','user',dbo,'table','hbt_exception_log' 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.6706|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: EXECUTE sp_addextendedproperty N'MS_Description', N'异常日志表', N'user', N'dbo', N'table', N'hbt_exception_log', NULL, NULL
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.6706|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT sysobjects.name AS TableName,
                           syscolumns.Id AS TableId,
                           syscolumns.name AS DbColumnName,
                           systypes.name AS DataType,
                           COLUMNPROPERTY(syscolumns.id,syscolumns.name,'PRECISION') as [length],
                           isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as Scale, 
						   isnull(COLUMNPROPERTY(syscolumns.id,syscolumns.name,'Scale'),0) as DecimalDigits,
                           Cast( sys.extended_properties.[value] as nvarchar(2000)) AS [ColumnDescription],
                           syscomments.text AS DefaultValue,
                           syscolumns.isnullable AS IsNullable,
	                       columnproperty(syscolumns.id,syscolumns.name,'IsIdentity')as IsIdentity,
                           (CASE
                                WHEN EXISTS
                                       ( 
                                             	select 1
												from sysindexes i
												join sysindexkeys k on i.id = k.id and i.indid = k.indid
												join sysobjects o on i.id = o.id
												join syscolumns c on i.id=c.id and k.colid = c.colid
												where o.xtype = 'U' 
												and exists(select 1 from sysobjects where xtype = 'PK' and name = i.name) 
												and o.name=sysobjects.name and c.name=syscolumns.name
                                       ) THEN 1
                                ELSE 0
                            END) AS IsPrimaryKey
                    FROM syscolumns
                    INNER JOIN systypes ON syscolumns.xtype = systypes.xtype
                    LEFT JOIN sysobjects ON syscolumns.id = sysobjects.id
                    LEFT OUTER JOIN sys.extended_properties ON (sys.extended_properties.minor_id = syscolumns.colid
                                                                AND sys.extended_properties.major_id = syscolumns.id)
                    LEFT OUTER JOIN syscomments ON syscolumns.cdefault = syscomments.id
                    WHERE syscolumns.id IN
                        (SELECT id
                         FROM sysobjects
                         WHERE upper(xtype) IN('U',
                                        'V') )
                      AND (systypes.name <> 'sysname')
                      AND sysobjects.name=N'hbt_exception_log'
                      AND systypes.name<>'geometry'
                      AND systypes.name<>'geography'
                    ORDER BY syscolumns.colid
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.8204|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: SELECT  TOP 1 1 FROM [hbt_tenant] 
Parameters: [] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
2025-01-18 13:27:21.9746|0|DEBUG|Lean.Hbt.Infrastructure.Logging.HbtNLogger|SQL: INSERT INTO [hbt_tenant]  
           ([tenant_id],[TenantName],[TenantCode],[ContactPerson],[ContactPhone],[ContactEmail],[Address],[DbConnection],[Domain],[LogoUrl],[Theme],[LicenseStartTime],[LicenseEndTime],[MaxUserCount],[Status],[create_by],[create_time],[update_by],[update_time],[delete_by],[delete_time],[is_deleted],[remark])
     VALUES
           (@tenant_id,@TenantName,@TenantCode,@ContactPerson,@ContactPhone,@ContactEmail,@Address,@DbConnection,@Domain,@LogoUrl,@Theme,@LicenseStartTime,@LicenseEndTime,@MaxUserCount,@Status,@create_by,@create_time,@update_by,@update_time,@delete_by,@delete_time,@is_deleted,@remark) ;
Parameters: [{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":12,"Direction":0,"IsNullable":false,"ParameterName":"@tenant_id","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":0,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@TenantName","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"默认租户","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@TenantCode","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@ContactPerson","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@ContactPhone","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@ContactEmail","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@Address","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@DbConnection","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@Domain","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@LogoUrl","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@Theme","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":6,"Direction":0,"IsNullable":false,"ParameterName":"@LicenseStartTime","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":6,"Direction":0,"IsNullable":false,"ParameterName":"@LicenseEndTime","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":11,"Direction":0,"IsNullable":false,"ParameterName":"@MaxUserCount","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":0,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":12,"Direction":0,"IsNullable":false,"ParameterName":"@Status","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":0,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@create_by","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"system","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":6,"Direction":0,"IsNullable":false,"ParameterName":"@create_time","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":"2025-01-18T13:27:21.7511673+08:00","TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@update_by","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":6,"Direction":0,"IsNullable":false,"ParameterName":"@update_time","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@delete_by","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":6,"Direction":0,"IsNullable":false,"ParameterName":"@delete_time","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":11,"Direction":0,"IsNullable":false,"ParameterName":"@is_deleted","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":0,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0},{"_Size":0,"IsRefCursor":false,"IsClob":false,"IsNClob":false,"IsNvarchar2":false,"DbType":16,"Direction":0,"IsNullable":false,"ParameterName":"@remark","Scale":0,"Size":4000,"SourceColumn":null,"SourceColumnNullMapping":false,"UdtTypeName":null,"Value":null,"TempDate":null,"SourceVersion":0,"TypeName":null,"IsJson":false,"IsArray":false,"CustomDbType":null,"Precision":0}] |Lean.Hbt.Infrastructure.Logging.HbtNLogger.Debug|
