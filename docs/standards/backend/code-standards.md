# C# 代码规范

## 1. 命名规范

### 1.1 类名
- 使用PascalCase命名法
- 名称应该是名词或名词短语
- 避免使用缩写
- 不要使用前缀

### 1.2 方法名
- 使用PascalCase命名法
- 名称应该是动词或动词短语
- 避免使用缩写

### 1.3 变量名
- 使用camelCase命名法
- 名称应该清晰表达其用途
- 避免使用单字母变量名（除非是循环计数器）

### 1.4 常量名
- 使用PascalCase命名法
- 名称应该清晰表达其用途

### 1.5 接口名
- 使用PascalCase命名法
- 以'I'作为前缀
- 名称应该是形容词或名词

## 2. 代码格式

### 2.1 缩进
- 使用4个空格作为缩进
- 不要使用Tab字符

### 2.2 大括号
- 大括号应该独占一行
- 即使只有一行代码，也要使用大括号

### 2.3 空行
- 方法之间使用一个空行分隔
- 逻辑相关的代码块之间使用空行分隔

### 2.4 行长度
- 每行代码不应超过120个字符
- 如果超过，应该适当换行

## 3. 编码实践

### 3.1 异常处理
- 使用try-catch块处理可能发生的异常
- 避免空catch块
- 记录异常信息

### 3.2 注释
- 使用XML文档注释描述公共API
- 代码即文档，避免无意义的注释
- 复杂的业务逻辑需要添加适当的注释

### 3.3 空值处理
- 使用空值条件运算符 (?.)
- 适当使用空合并运算符 (??)
- 参数验证使用Guard Clause模式

### 3.4 LINQ
- 优先使用方法语法而不是查询语法
- 避免在循环中使用LINQ
- 注意延迟执行带来的性能影响

## 4. 性能考虑

### 4.1 字符串处理
- 使用StringBuilder处理大量字符串拼接
- 使用字符串内插表达式提高可读性

### 4.2 集合操作
- 合理选择集合类型
- 预先设置集合容量
- 避免在循环中修改集合

### 4.3 资源管理
- 使用using语句处理IDisposable对象
- 及时释放不再使用的资源

## 5. 单元测试

### 5.1 测试命名
- 使用描述性的测试名称
- 遵循[测试场景]_[预期结果]格式

### 5.2 测试结构
- 遵循Arrange-Act-Assert模式
- 每个测试只测试一个行为
- 保持测试简单和独立

## 6. 文档

### 6.1 XML注释
- 为公共API添加XML注释
- 描述参数、返回值和异常
- 提供使用示例

### 6.2 README
- 提供清晰的项目描述
- 包含构建和运行说明
- 列出主要依赖项

## 7. 版本控制

### 7.1 提交信息
- 使用清晰的提交信息
- 遵循约定式提交规范
- 关联相关的问题编号

### 7.2 分支管理
- 遵循GitFlow工作流
- 使用有意义的分支名称
- 及时合并和删除分支

## 8. 实体类规范

### 8.1 实体基类字段命名规范

所有继承自`HbtBaseEntity`的实体类必须遵循以下字段命名规范：

| 字段名称 | 数据库字段名 | 说明 | 是否必填 |
|---------|------------|------|---------|
| Id | id | 主键 | 是 |
| CreateBy | create_by | 创建者 | 是 |
| CreateTime | create_time | 创建时间 | 是 |
| UpdateBy | update_by | 更新者 | 否 |
| UpdateTime | update_time | 更新时间 | 否 |
| DeleteBy | delete_by | 删除者 | 否 |
| DeleteTime | delete_time | 删除时间 | 否 |
| IsDeleted | is_deleted | 是否删除(0=未删除,1=已删除) | 是 |
| Remark | remark | 备注 | 否 |

注意事项：
1. 字段命名采用Pascal命名法(首字母大写)
2. 数据库字段名采用snake命名法(小写+下划线)
3. 不允许修改这些基础字段的命名规范
4. 所有时间字段使用`DateTime`类型
5. 所有字符串字段必须指定长度

### 8.2 实体类设计规范

1. 实体类必须是POCO类，不允许包含业务逻辑
2. 不允许在构造函数中初始化字段值
3. 所有属性必须有get和set访问器
4. 必须使用数据注解标注字段的约束
